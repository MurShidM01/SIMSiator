<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIMSiator - Phone Data Finder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#00C9A7',
            secondary: '#845EC2',
            dark: '#0f1115',
            surface: '#1a1c23',
          },
        },
      },
    }
  </script>
  <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-dark min-h-screen flex flex-col text-gray-200 overflow-x-hidden">
  <!-- Splash Screen -->
  <div id="splashScreen" class="fixed inset-0 bg-dark z-50 flex flex-col items-center justify-center fade-in">
    <div class="w-24 h-24 bg-primary rounded-2xl flex items-center justify-center mb-6 pulse-soft">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-white" viewBox="0 0 20 20" fill="currentColor">
        <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
      </svg>
    </div>
    <h1 class="text-3xl font-bold text-primary mb-2">SIMSiator</h1>
    <p class="text-gray-400">Phone Data Finder</p>
  </div>

  <!-- Login Screen (initially hidden) -->
  <div id="loginScreen" class="hidden fixed inset-0 bg-dark z-40 flex items-center justify-center p-4 overflow-y-auto">
    <div class="max-w-md w-full my-auto">
      <div class="text-center mb-8 fade-in">
        <div class="w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" viewBox="0 0 20 20" fill="currentColor">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
          </svg>
        </div>
        <h1 class="text-3xl font-bold text-white mb-2">Welcome Back</h1>
        <p class="text-gray-400">Enter your secret key to continue</p>
      </div>

      <div class="bg-surface rounded-2xl p-6 border border-gray-800 shadow-2xl slide-up">
        <!-- Auth Tabs -->
        <div class="flex gap-2 mb-6">
          <button id="loginTab" class="flex-1 py-2 px-4 rounded-lg bg-primary text-black font-semibold transition">
            Login
          </button>
          <button id="registerTab" class="flex-1 py-2 px-4 rounded-lg bg-gray-800 text-gray-400 font-semibold transition hover:bg-gray-700">
            Register
          </button>
        </div>

        <!-- Login Form -->
        <form id="loginForm" class="space-y-4">
          <div>
            <label for="loginEmail" class="block text-sm font-medium text-gray-400 mb-2">Email</label>
            <input
              id="loginEmail"
              type="email"
              placeholder="Enter your email..."
              class="w-full px-4 py-3 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:border-primary transition"
              required
            />
          </div>

          <div>
            <label for="loginPassword" class="block text-sm font-medium text-gray-400 mb-2">Password</label>
            <div class="relative">
              <input
                id="loginPassword"
                type="password"
                placeholder="Enter your password..."
                class="w-full px-4 py-3 pr-12 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:border-primary transition"
                required
              />
              <button
                type="button"
                id="toggleLoginPassword"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary transition"
              >
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                  <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                </svg>
              </button>
            </div>
          </div>

          <p id="loginError" class="text-sm text-red-400 hidden"></p>

          <button
            type="submit"
            id="loginBtn"
            class="w-full bg-primary text-black font-semibold py-3 rounded-lg hover:bg-teal-400 transition transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            Login
          </button>
        </form>

        <!-- Register Form -->
        <form id="registerForm" class="space-y-4 hidden">
          <div>
            <label for="registerName" class="block text-sm font-medium text-gray-400 mb-2">Full Name</label>
            <input
              id="registerName"
              type="text"
              placeholder="Enter your name..."
              class="w-full px-4 py-3 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:border-primary transition"
              required
            />
          </div>

          <div>
            <label for="registerEmail" class="block text-sm font-medium text-gray-400 mb-2">Email</label>
            <input
              id="registerEmail"
              type="email"
              placeholder="Enter your email..."
              class="w-full px-4 py-3 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:border-primary transition"
              required
            />
          </div>

          <div>
            <label for="registerPassword" class="block text-sm font-medium text-gray-400 mb-2">Password</label>
            <div class="relative">
              <input
                id="registerPassword"
                type="password"
                placeholder="Create a password (min 6 chars)..."
                class="w-full px-4 py-3 pr-12 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 focus:outline-none focus:border-primary transition"
                required
                minlength="6"
              />
              <button
                type="button"
                id="toggleRegisterPassword"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary transition"
              >
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                  <path d="M10 12a2 2 0 100-4 2 2 0 000 4z" />
                  <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" />
                </svg>
              </button>
            </div>
          </div>

          <p id="registerError" class="text-sm text-red-400 hidden"></p>

          <button
            type="submit"
            id="registerBtn"
            class="w-full bg-primary text-black font-semibold py-3 rounded-lg hover:bg-teal-400 transition transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
              <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
            </svg>
            Create Account
          </button>
        </form>

        <div class="mt-6 pt-4 border-t border-gray-800 space-y-3">
          <div class="bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-3 border border-primary/30">
            <div class="flex items-start gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary flex-shrink-0 mt-0.5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
              </svg>
              <div>
                <p class="text-sm font-medium text-white mb-1">Need Secret Key?</p>
                <p class="text-xs text-gray-400 mb-2">Contact us on Telegram to get access</p>
                <a 
                  href="https://t.me/But_Kadah" 
                  target="_blank"
                  class="inline-flex items-center gap-2 px-3 py-1.5 bg-primary/20 hover:bg-primary/30 text-primary text-xs font-medium rounded-lg transition border border-primary/50"
                >
                  <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121L8.91 13.617l-2.97-.924c-.64-.203-.654-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/>
                  </svg>
                  <span>@But_Kadah</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
                    <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
          
          <p class="text-xs text-center text-gray-500">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            Secure authentication required
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main App (initially hidden) -->
  <div id="mainApp" class="hidden min-h-screen flex flex-col pb-20">
    <!-- Header -->
    <header class="bg-surface p-4 border-b border-gray-800 sticky top-0 z-10">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center mr-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" viewBox="0 0 20 20" fill="currentColor">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
            </svg>
          </div>
          <h1 class="text-xl font-bold text-primary">SIMSiator</h1>
        </div>
        <button id="aboutBtn" class="text-gray-400 hover:text-white transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </button>
      </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent" class="flex-1 p-6">
      <!-- Content will be dynamically loaded here -->
    </main>
  </div>

  <!-- Bottom Navigation -->
  <nav class="fixed bottom-0 left-0 right-0 bg-surface border-t border-gray-800 z-10">
    <div class="flex justify-around items-center py-3">
      <a href="#" class="nav-link flex flex-col items-center text-primary" data-page="home">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
        </svg>
        <span class="text-xs mt-1">Home</span>
      </a>
      
      <a href="#" class="nav-link flex flex-col items-center text-gray-400 hover:text-white transition" data-page="history">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg>
        <span class="text-xs mt-1">History</span>
      </a>
      
      <a href="#" class="nav-link flex flex-col items-center text-gray-400 hover:text-white transition" data-page="settings">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
        <span class="text-xs mt-1">Settings</span>
      </a>
      
      <a href="#" class="nav-link flex flex-col items-center text-gray-400 hover:text-white transition" data-page="profile">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
        <span class="text-xs mt-1">Profile</span>
      </a>
    </div>
  </nav>

  <!-- About Modal -->
  <div id="aboutModal" class="fixed inset-0 bg-black/70 z-20 hidden items-center justify-center p-4">
    <div class="bg-surface rounded-2xl max-w-md w-full p-6 border border-gray-800 slide-up">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-white">About SIMSiator</h3>
        <button id="closeAbout" class="text-gray-400 hover:text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <p class="text-gray-400 mb-4">
        SIMSiator is a professional phone data finder application that allows you to retrieve information about phone numbers quickly and securely.
      </p>
      <div class="flex items-center justify-between text-gray-400">
        <div class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
          </svg>
          <span id="appVersion">Version 1.0.0</span>
        </div>
        <button onclick="checkForUpdates(true)" class="text-xs px-3 py-1 bg-primary/20 text-primary rounded-lg hover:bg-primary/30 transition border border-primary/50">
          Check Update
        </button>
      </div>
      <div class="mt-6 pt-4 border-t border-gray-800 text-center text-sm text-gray-500">
        2025 SIMSiator | Built by <span class="text-primary">Ali Khan Jalbani</span>
      </div>
    </div>
  </div>

  <!-- Custom Dialog Modal -->
  <div id="customDialog" class="fixed inset-0 bg-black/70 z-30 hidden items-center justify-center p-4 overflow-y-auto">
    <div class="bg-surface rounded-2xl max-w-lg w-full my-auto p-4 sm:p-6 border border-gray-800 slide-up max-h-[90vh] flex flex-col">
      <div class="text-center flex-shrink-0">
        <div id="dialogIcon" class="w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 rounded-full flex items-center justify-center">
          <!-- Icon will be inserted here -->
        </div>
        <h3 id="dialogTitle" class="text-lg sm:text-xl font-bold text-white mb-2"></h3>
      </div>
      <div id="dialogMessage" class="text-gray-400 text-sm sm:text-base overflow-y-auto flex-1 min-h-0"></div>
      <div id="dialogActions" class="flex gap-3 mt-4 sm:mt-6 flex-shrink-0">
        <!-- Buttons will be inserted here -->
      </div>
    </div>
  </div>

  <!-- Load Dialog System First -->
  <script src="dialog.js"></script>
  
  <!-- Load Firebase Module -->
  <script type="module" src="firebase.js"></script>
  
  <!-- Load Authentication Module -->
  <script type="module" src="auth-firebase.js"></script>
  
  <!-- Load Login Handler -->
  <script src="login-handler.js"></script>
  
  <!-- Load Page Components -->
  <script src="pages/home.js"></script>
  <script src="pages/history.js"></script>
  <script src="pages/settings.js"></script>
  <script src="pages/profile.js"></script>
  
  <!-- Load Main App Script -->
  <script type="module" src="app.js"></script>
</body>
</html>